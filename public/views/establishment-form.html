<div ng-init="new = new">
<form class="form-horizontal">
  <div class="row">
    <div class="col-lg-6" ng-show="displayCreateForm">
      <p class="lead">Create a new establishment</p>
    </div>
      <div class="col-lg-12" ng-show="displayEditForm">
        <p class="lead">Edit establishment</p>
      </div>
    <div class="col-lg-6" ng-show="displayCreateForm">
      Logged in as <i>{{ Main.user.Name }}</i>. Not you? <a href="" ng-click="Main.logout();">Log out</a>
    </div>
  </div>
  <fieldset>
    <div class="form-horizontal">
      <h4>General information</h4>
      <div class="row">
        <div class="col-lg-6">
          <input class="form-control" ng-model="new.Name" placeholder="Enter name.."/>
        </div>
        <div class="col-lg-6" align="right">
          <select class="form-control" ng-model="new.Type">
            <option selected="true">Select type..</option>
            <option value="0">Restaurant</option>
            <option value="1">Hotel</option>
            <option value="2">Bar</option>
          </select>
        </div>
      </div>
    </div>
    <div class="spacer10"></div>
    <div class="form-horizontal">
      <h4>Address</h4>
      <div class="row">
        <div class="col-md-10">
          <input class="form-control" ng-model="new.Address_Street" placeholder="Enter street.."/>
        </div>
        <div class="col-md-2">
          <input class="form-control" ng-model="new.Address_Num" placeholder="Enter number.."/>
        </div>
      </div>
      <div class="spacer10"></div>
      <div class="row">
        <div class="col-md-2">
          <input class="form-control" ng-model="new.Address_Zip" placeholder="Enter zip.."/>
        </div>
        <div class="col-md-4">
          <input class="form-control" ng-model="new.Address_City" placeholder="Enter city.."/>
        </div>
        <div class="col-md-3">
          <input class="form-control" ng-model="new.Address_Longitude" placeholder="Enter longitude.."/>
        </div>
        <div class="col-md-3">
          <input class="form-control" ng-model="new.Address_Latitude" placeholder="Enter latitude.."/>
        </div>
      </div>
    </div>
    <div class="spacer10"></div>
    <div class="form-horizontal">
      <h4>Contact</h4>
      <div class="row">
        <div class="col-md-6">
          <input class="form-control" ng-model="new.Site" placeholder="Enter website url.."/>
        </div>
        <div class="col-md-6">
          <input class="form-control" ng-model="new.Tel" placeholder="Enter phone number.."/>
        </div>
      </div>
    </div>
    <div class="spacer10"></div>
    <!-- Restaurant -->
    <div class="row" ng-show="new.Type == 0">
      <div class="form-horizontal col-md-4">
        <h4>Price</h4>
        <div class="row">
          <div class="col-md-6">
            <input class="form-control" ng-model="new.PriceRange_LowerBound" placeholder="From (EUR).."/>
          </div>
          <div class="col-md-6">
            <input class="form-control" ng-model="new.PriceRange_UpperBound" placeholder="To (EUR).."/>
          </div>
        </div>
      </div>
      <div class="form-horizontal col-md-8">
        <h4>Other aspects</h4>
        <div class="row">
          <div class="col-md-3">
            <input class="form-control" ng-model="new.Capacity" placeholder="Enter capacity.."/>
          </div>
          <div class="col-md-5">
            Does this place allow takeaway orders?&nbsp;&nbsp;
            <input type="checkbox" ng-model="new.TakeAway"/>
          </div>
          <div class="col-md-4">
            Does this place deliver?&nbsp;&nbsp;
            <input type="checkbox" ng-model="new.Delivery"/>
          </div>
        </div>
      </div>
    </div>
    <!-- Hotel -->
    <div ng-show="new.Type == 1">
      <div class="form-horizontal">
        <h4>Other aspects</h4>
        <div class="row">
          <div class="col-md-6">
            <select class="form-control" ng-model="new.Stars" ng-init="scores = [1,2,3,4,5];">
              <option value="0" selected>Select hotel rating..</option>
              <option ng-repeat="s in scores" value="{{ s }}">{{ s }}</option>
            </select>
          </div>
          <div class="col-md-6">
            <input class="form-control" ng-model="new.Rooms" placeholder="Enter number of rooms.."/>
          </div>
        </div>
      </div>
    </div>
    <!-- Bar -->
    <div ng-show="new.Type == 2">
      <div class="form-horizontal">
        <h4>Other aspects</h4>
        <div class="row">
          <div class="col-md-6">
            Does this place allow customers to smoke?&nbsp;&nbsp;
            <input type="checkbox" ng-model="new.Smoking"/>
          </div>
          <div class="col-md-6">
            Does this place provide customers with catering?&nbsp;&nbsp;
            <input type="checkbox" ng-model="new.Snack" />
          </div>
        </div>
      </div>
    </div>


    <div class="spacer10"></div>
    <div class="form-group">
      <div class="col-lg-12" align="center">
        <button ng-click="post();" class="btn btn-primary">Submit establishment</button>
      </div>
    </div>
  </fieldset>
</form>
</div>
